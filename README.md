# Заглавие
"Greasy Kingx" - Roguelike игра

# Описание
Нека започнем с описание на lore-a, най-важната част от една игра. Главният герой, известен с прякора Greasy Killer, един млад и талантлив левент, се изправя пред нуждата да спаси страната си от алчните и богати власти(от тук идва името на играта - властимащите крале са леко понапълняли - "мазни"). За да ги свали от власт, той първо трябва да победи всички техни войници.

Играта представлява 2D top-down Roguelike игра (тука можем да си представим игри като The Binding of Isaac). Механиките на Greasy Kingx ще наподобяват тези на Isaac и Minecraft, естествено в доста по-опростен вариант. В разработката на играта ще бъдат демонстрирани ООП принципи(или поне ще се опитам), евентуално и някои алгоритми върху графи, ако успея да го сместя във времевия период за разработка.

Първо много накратко ще обясня какво всъщност представляват Roguelike игрите. Почти всички роглайкове предоставят на играча контрол върху герой, който те могат да персонализират, като избират клас, раса, пол, и т.н., и настройват атрибути и умения. В началото на играта героят се поставя в дънджън с някакви базови ресурси като просто оръжие, броня, фенер, храна. Следвайки концепцията на ролевите игри за обикаляне из дънджъна, играчът премества героя през дънджъна, събирайки съкровища, включващи нови оръжия, брони, магически item-и, храна, пари и т.н., докато се бори с чудовища, които се движат из дънджъна.

Конкретно за моята игра, смятам да реализирам една(голяма) стая, в която се намира нашият герой. От всички страни на стаята периодично влизат чудовища от различни видове, които се опитват да убият нашият герой, тъй като те много обичат "мазните" си лидери. Чудовищата ще бъдат melee и ranged, като melee чудовищата ще се пробват да достигнат до нашия герой. С протичане на играта, вероятността да се spawn-ат чудовища от по-силен вид е все по голяма, както и кръвта им постепенно ще става все повече. Колкото повече време героят остане жив, толкова повече точки ще събере играчът. Ще бъде имплементирана leaderboard система, която да показва рекордите на играчите. При почване на играта, играчът ще има фиксиран брой точки, които ще може да разпредели в stat-овете на героя, с който играят - напр. health, movement speed, base damage, т.н. При всяко убиване на чудовище, то ще пуска gold, пропорционално на силата му. Ще бъде имплементирана shop система, където героят ще може да закупува различни оръжия, брони, potion-ки, ефекти, амуниции и т.н. (с помощта на изкарания му голд от убиване на чудовища), които ще му позволят да остане жив за по дълго време. В началото героят почва с меч, тоест ще може да атакува само melee. Когато събере достатъчно пари, героят ще може да закупи и други оръжия, било то ranged или melee, както и много други неща. Трябва да се обърне внимание, че атакуващите ще идват на вълни, и магазинът ще бъде активен само между отделните вълни, така че човек трябва да обмисли кое ще му е нужно от магазина, че да успее да оживее в следващата вълна!

Някои видове чудовища ще бъдат (Признавам, имената им са генерирани от Chat GPT):
- Slickback Scoundrel - Най-базовото чудовище. От тип melee, той се придвижва към героя и прави базови melee атаки върху него. Има малко кръв, бие малко dmg, дропва малко голд.
- Slime Slicker - Чудовище, което когато умре спаунва 2 по-малки Slime Slicker чудовища, които когато умрат спаунват 2 още по-малки Slime Slicker чудовища. Тук може да си представим Slime от Minecraft.
- Frostwind Marksman - Чудовище от тип Ranged, използва лък за да стреля по героя. Ако го уцели, то героят има slowdown ефект за няколко секунди(също и поема damage, естествено).
- Spook Boomkin - Представлява чудовище, което експлодира когато е в близост до героя и бие damage в радиус от експлозията. (Minecraft Creeper)
- Barricade Breeder - Чудовище, което ще може да слага стени. Тези стени ще пречат на героя да минава през тях, обаче всички чудовища ще могат да минават през тях. Също така, всички патрони на героя ще бъдат блокирани от стената, но вражеските такива няма.

Лесно могат да бъдат добавяни още врагове/shop item-и/механики по време на разработката на софтуерния продукт.

Програмата избира произволен старт пойнт за всяко чудовище от текущия wave при стартирането му. Легални стартови позиции за чудовища са ръбовете на стаята. Те не се спаунват наведнъж, а постепенно докато не се изчерпат всички чудовища от този wave. Тогава считаме, че wave-ът е успешно преминат. Всеки wave се характеризира от pool чудовища, напр. 10 Slickback Scoundrel и 5 Frostwind Marksman, които се появяват в произволен order. След всеки wave, героят получава определено количество голд(правопропорционално на wave count-a) като награда за преминаването му. Wave-овете са безкрайно много на брой(докато не умре героят).

Ще бъде възможна пауза на играта по всяко време, което ще помогне в следните случаи: Играчът иска да осмисли колко е прецакан в даден момент на играта; Обмисляне на следващата си стъпка; Нужда от малка/голяма нужда; Мама е сготвила манджата и чака да вечеряте. Тогава може да се сейвне текущата конфигурация на играта във файл, и играта спокойно да бъде затворена. При пускане на играта ще има опцията continue game, която ще върне играча точно където е оставил играта.

Всичко ще бъде окрасено с изображения(sprites) - героят, чудовищата, item-ите. Също така ще има и background музичка, shooting/slashing/death sounds, shop музичка и т.н.

# Функционалности
1. Зареждане на текуща конфигурация от файл / почване на нова игра.
2. Записване на текущата конфигурация във файл.
3. Запазване на Leaderboard във файл / Визуализация на Leaderboard.
4. Aктуализиране и визуализиране на информация за притежавани от играча характеристики - health, gold и други.
5. Програмата ще обновява и визуализира следните неща, заедно с техните sprite-ове:
    - текущата позиция на героя.
    - текущата позиция на всяко чудовище.
    - текущата позиция на всеки снаряд.
    - текущи статове на всяко Entity(чудовище или герой) - current health и д.р.
    - Quick Item List - списък на дъното на екрана, показващ какви item-и носи героят(от тип Minecraft). Те са видими през цялото време.
    - All Item List - отваряне на целия инвентар със item-и. Видими са само ако се отвори инвентара.
    - Current Score/Wave count
6. Героят/потребителят/играчът може да извършва следните дейности:
    - Добавяне на item от All Item List-a към Quick Item List-a.
    - Преместване на item от Quick Item List-a към All Item List-a.
    - Избор на активен item от Quick Item List-a чрез клавишите 0-9.
    - Използване на активния item.
    - Пауза на играта.
    - Движение на героя в недискретни посоки(не само нагоре, надолу, наляво, надясно).
    - Промяна на посоката на гледане/aiming.
    - Отваряне на магазина(само между отделните вълни).
    - Избиране на неща от магазина с помощта на бутони/dropdown листове и т.н.
    - Избор на background песен от pause menu-то.
7. Програмата прилага характеристиките за всяко оръжие – цена, обхват, скорост на атака, damage, и др.
8. На всеки кадър, програмата премества чудовищата по посока героя.
9. На всеки кадър, програмата обръща (завърта спрайта на) Entity-тата в посоката към която гледат(ако е необходимо), както и ги shift-ва спрямо текущата им локация.
10. Програмата следи за чудовище, което е стигнало до героя, и ако това се случи, чудовището умира и health-a на героя спада.
11. Следи се дали изстреляни от чудовищата projectiles са уцелили героя, и ако да, health-a на героя спада.
12. Програмата ще записва информация за всички ефекти върху състоянието(status effects) на Entity-тата, като: 
    - намаляване на скоростта на придвижване
    - увеличаване на скоростта на придвижване
    - damage-over-time
    - health regeneration
    - други ефекти
13. Програмата ще следи за колизии между hitbox на entity и projectile и ще действа по определен начин:
    - Нанася damage, ако entity-то все още има health, и ще визуализира health bar-а му.
    - Ако след пресмятане на damage, entity няма повече health, то той умира. Ако entity-то е героят, GGWP. Ако е чудовище, пуска голд.
14. При покупка на еднократен item(напр. конкретно оръжие), той изчезва от магазина. При покупка на reusable item-и (health potions, ammo), те остават в магазина, но цената им се вдига спрямо колко бройки са били закупени.


# Milestones
1. Прозорец - размери, настройки, game loop.
2. Четене на информация от файл. Зареждане на конфигурация.
3. Генериране на вълна(wave).
4. Взаимодействие с прозореца. Визуализиране на обекти по екрана.
5. Entities. Движение на entity по екрана.
6. Геометрия на обекти.
7. Обхват на атаки, hitbox и health bar на entity, визуализирането им.
8. Придвижване на чудовище по изчислен за него минимален път(в права линия към героя). Визуализиране и актуализиране на пътя върху игралното поле.
9. Режими на насочване и стреляне на герой/чудовище.
10. Колизия на projectile с entity.
11. Характеристики на entity.
12. Закупуване на item-и. Актуализиране на характеристики на героя.
13. Статус ефекти върху entity.
14. HUD - визуализиране на items, health, score.
15. Условия за успешно преминаване на дадена вълна.
16. Дизайн на чудовища/item-и. Балансиране на характеристиките им.

# Използвани технологии
    -pygame
    -pygame gui
    -Вградени модули – random, collections и т.н.
